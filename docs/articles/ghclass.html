<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Course management with ghclass • ghclass</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Course management with ghclass">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ghclass</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/articles/ghclass.html">Introduction</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rundel/ghclass/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Course management with ghclass</h1>
                        <h4 data-toc-skip class="author">Mine
Çetinkaya-Rundel, Colin Rundel, Therese Anders</h4>
            
            <h4 data-toc-skip class="date">2024-03-26</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/rundel/ghclass/blob/HEAD/vignettes/articles/ghclass.Rmd" class="external-link"><code>vignettes/articles/ghclass.Rmd</code></a></small>
      <div class="d-none name"><code>ghclass.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="what-is-ghclass">What is ghclass?<a class="anchor" aria-label="anchor" href="#what-is-ghclass"></a>
</h2>
<p>ghclass is an R package that is designed to enable instructors to
efficiently manage their courses on GitHub. It has a wide range of
functionality for managing organizations, teams, repositories, and users
on GitHub and helps automate most of the tedious and repetitive tasks
around creating and distributing assignments.</p>
</div>
<div class="section level2">
<h2 id="who-is-this-package-for">Who is this package for?<a class="anchor" aria-label="anchor" href="#who-is-this-package-for"></a>
</h2>
<p>This package is for everyone! But really, if you’re an instructor who
uses GitHub for your class management, e.g. students submit assignments
via GitHub repos, this package is definitely for you! The package also
assumes that you’re familiar with R, but teaching with R is not a
requirement since this package is entirely agnostic to the contents of
your repositories.</p>
<p>(If you’re a Python user, see <a href="https://ubc-mds.github.io/2017-08-24-teaching-with-github/" class="external-link">this
post</a> for a Python based alternative.)</p>
</div>
<div class="section level2">
<h2 id="what-is-this-vignette-about">What is this vignette about?<a class="anchor" aria-label="anchor" href="#what-is-this-vignette-about"></a>
</h2>
<p>This vignette is about the nitty-gritty of setting your class up in
GitHub with ghclass. For a higher level discussion of why and how to use
Git/GitHub in data science education, see <a href="https://peerj.com/preprints/3181/" class="external-link">this paper</a> by the package
authors.</p>
</div>
<div class="section level2">
<h2 id="structuring-your-class-on-github">Structuring your class on GitHub<a class="anchor" aria-label="anchor" href="#structuring-your-class-on-github"></a>
</h2>
<p>The general framework is outlined below. This is not the only way to
structure a class on GitHub, but it’s a good way, and one that ghclass
is optimized to work with.</p>
<p>We outline steps for achieving this structure in the next section.
This section is meant to give a high level view of what your course
looks like on GitHub.</p>
<ul>
<li><p>One organization per class: If you teach at a university, this
means one semester of a given course. If you teach workshops, this would
be one workshop. The instructor and any additional instructional staff,
e.g. teaching assistants, are owners. Going forward we will refer to
this group of people as “instructors”. The students are
members.</p></li>
<li><p>One repo per student (or team) per assignment: The instructors
have admin access to repos, i.e. they can clone, read, and write to
every repository. Additionally, they can adjust repo and team
memberships by adding or removing collaborators to assignment
repositories as well as delete them. The students have write access to
their assigned repo, which means that they can clone, read, and write to
their assigned repositories but they cannot delete them and they cannot
add or remove collaborators to them. This can help with minimizing
accidents that cannot be undone and makes sure students cannot peek into
each others’ repositories unless you explicitly allow them to do
so.</p></li>
</ul>
<p>If you have a teamwork component to your course, you can also set up
teams on GitHub with your organization and each team can be given
similar repository level access privileges for team assignments.</p>
<p>Suppose you have 40 students in your class, and they are in 10 teams
of 4 students each. Suppose also that students turn in the following
throughout a semester:</p>
<ul>
<li>Individual: 10 homework assignments + 2 exams</li>
<li>Teamwork: 8 lab assignments + 1 project</li>
</ul>
<p>Then, throughout the semester you will need to create total of 570
repositories.</p>
<p>That is a lot of repos to create and permissions to set manually!
It’s also a lot of repos to clone when it comes time to grade. ghclass
addresses this problem, and more! It does not, however, address the
problem that that’s a lot of grading. Sorry, you’re on your own
there!</p>
<p>That being said, ghclass does facilitate setting up continuous
integration tools using GitHub actions for students’ assignment repos.
This can allow for some automatic checking and feedback each time
students push to a repo, more on this in a future vignette.</p>
</div>
<div class="section level2">
<h2 id="authentication">Authentication<a class="anchor" aria-label="anchor" href="#authentication"></a>
</h2>
<p>This package uses GitHub personal access tokens for authentication
with <a href="https://github.com/settings/tokens" class="external-link">GitHub</a>, these
values can be supplied via environmental variables
<code>GITHUB_PAT</code> or <code>GITHUB_TOKEN</code> or saved as text in
<code>~/.github/token</code>.</p>
<p>If this is your first time setting up a personal access token (PAT),
generate a token in the browser after logging into Github (Settings &gt;
Developer Settings &gt; Personal access tokens) or use <a href="https://usethis.r-lib.org/articles/articles/usethis-setup.html#get-and-store-a-github-personal-access-token" class="external-link"><code>usethis::browse_github_token</code></a>.</p>
<p>You can test that your token is working correctly using the
<code><a href="../reference/github_token.html">github_test_token()</a></code> function. If everything is working
correctly you should see something like the following:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/github_token.html">github_test_token</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi"><code><span><span class="co">#&gt; ✓ Your GitHub PAT authenticated correctly.</span></span></code></pre>
<p>If your token is not working you will see an error message like this
instead:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/github_token.html">github_test_token</a></span><span class="op">(</span><span class="st">"bad token"</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi"><code><span><span class="co">#&gt; Warning in gh_auth(x$token %||% gh_token(x$api_url)): Token contains whitespace</span></span>
<span><span class="co">#&gt; characters</span></span>
<span><span class="co">#&gt; x Your GitHub PAT failed to authenticate.</span></span>
<span><span class="co">#&gt; └─GitHub API error (401): </span></span>
<span><span class="co">#&gt;   ├─ API message: Bad credentials</span></span>
<span><span class="co">#&gt;   └─ API docs: https://docs.github.com/rest</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="step-by-step-guide">Step-by-step guide<a class="anchor" aria-label="anchor" href="#step-by-step-guide"></a>
</h2>
<p>Start with creating an organization on GitHub for the course. We
recommend using the course number, semester/quarter, and year in the
organization name, e.g. for a course numbered Sta 199 in Spring 18, you
can use something like <code>Sta199-Sp18</code>. The exact format is not
critical, but being consistent is helpful so that you can keep track of
all of your different courses.</p>
<p>Previously, it was necessary to apply for GitHub’s Education Discount
in order to obtain the ability to create private organization
repositories for free. Recently, GitHub <a href="https://github.blog/2019-01-07-new-year-new-github/" class="external-link">announced</a>
that they would be providing free unlimited private repositories for all
users, making this step no longer necessary.</p>
<p>GitHub still provides educational benefits which are available <a href="https://education.github.com/benefits" class="external-link">here</a> via a simple
verification process. The list of the available benefits for teachers is
provided in the <a href="https://education.github.com/toolbox/offers" class="external-link">teacher toolbox</a>.
Of particular note is the availability of <a href="https://education.github.com/toolbox/redeem/github-swag" class="external-link">GitHub
swag</a> for your students and <a href="https://education.github.com/toolbox/redeem/github-org-upgrades" class="external-link">free
GitHub Teams plans for academic organizations</a> and a free <a href="https://github.com/settings/billing" class="external-link">GitHub Pro plan for
educators</a>.</p>
<p>All of this is an optional step, but one that many will want to do.
Approval is usually very quick, but it is not something you would want
to do the night before classes begin. Give yourself at least a week to
be safe.</p>
<div class="section level3">
<h3 id="permissions">Permissions<a class="anchor" aria-label="anchor" href="#permissions"></a>
</h3>
<p>By default, each new GitHub organization defaults to repositories
being readable by all members, regardless of whether they are private or
public. This is clearly undesirable for most classroom settings.</p>
<p>Individual-level permissions can be set via the “People” tab on the
organization page. We recommend the course instructor to be the owner of
the organization and teaching assistants to receive admin privileges.
Students should receive member privileges.</p>
<p>Github allows further permissions for accessing and changing
repositories to be set for each individual member or at the
organization-level (under Settings &gt; Member Privileges). We suggest
the organization-level settings below.</p>
<p><em>Member repository permissions</em></p>
<ul>
<li>Base permissions: None</li>
<li>Repository creation (both Public and Private): Disabled</li>
<li>Repository forking: Disabled</li>
</ul>
<p><em>Admin repository permissions</em></p>
<ul>
<li>Repository visibility change: Disabled</li>
<li>Repository deletion and transfer: Disabled</li>
<li>Issue deletion: Disabled</li>
</ul>
<p><em>Member team permissions</em></p>
<ul>
<li>Allow members to create teams: Disabled</li>
</ul>
<p>We can get a quick snapshot of our organization using the
<code>org_sitrep</code> function which reports on this permission as
well as other important details.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/org_perm.html">org_sitrep</a></span><span class="op">(</span><span class="st">"ghclass-vignette"</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi"><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── ghclass-vignette sitrep: ─────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; • Admins: "mine-cetinkaya-rundel", "rundel", and "thereseanders"</span></span>
<span><span class="co">#&gt; • Members: 0</span></span>
<span><span class="co">#&gt; • Public repos: 0</span></span>
<span><span class="co">#&gt; • Private repos: 0</span></span>
<span><span class="co">#&gt; • Default repository permission: "read" &lt;- Warning: members can currently view all repos</span></span>
<span><span class="co">#&gt; in this org.</span></span>
<span><span class="co">#&gt; • Members can create public repos: TRUE</span></span>
<span><span class="co">#&gt; • Members can create private repos: TRUE</span></span></code></pre>
<p>We can see that this function indicates that the current default
repository permission settings is “read” and provides a helpful warning
that this enables members to view all repositories. This permission can
easily be addressed within the Organization Settings page under Member
privileges. Alternatively, we can also use ghclass to change this
directly with <code>org_set_repo_permission</code></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/org_perm.html">org_set_repo_permission</a></span><span class="op">(</span><span class="st">"ghclass-vignette"</span>, permission <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi"><code><span><span class="co">#&gt; ✓ Set org "ghclass-vignette"'s repo permissions to "none".</span></span></code></pre>
<p>After changing this setting we can once again check the org’s sitrep
and see that the warning is now resolved.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/org_perm.html">org_sitrep</a></span><span class="op">(</span><span class="st">"ghclass-vignette"</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi"><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── ghclass-vignette sitrep: ─────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; • Admins: "mine-cetinkaya-rundel", "rundel", and "thereseanders"</span></span>
<span><span class="co">#&gt; • Members: 0</span></span>
<span><span class="co">#&gt; • Public repos: 0</span></span>
<span><span class="co">#&gt; • Private repos: 0</span></span>
<span><span class="co">#&gt; • Default repository permission: "none"</span></span>
<span><span class="co">#&gt; • Members can create public repos: TRUE</span></span>
<span><span class="co">#&gt; • Members can create private repos: TRUE</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="adding-students-to-the-organization">Adding students to the organization<a class="anchor" aria-label="anchor" href="#adding-students-to-the-organization"></a>
</h3>
<p>Next, collect your students’ GitHub usernames. You can do this using
your web form tool of choice (e.g. Google Forms, MS Forms, etc.) or via
a quiz or survey on your school’s learning management system (LMS). We
will assume that you are able to then read in these data into an R data
frame.</p>
<p>For example, your roster file might look something like the
following:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">roster</span> <span class="op">=</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"roster.csv"</span>, package <span class="op">=</span> <span class="st">"ghclass"</span><span class="op">)</span> <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">roster</span></span></code></pre></div>
<pre class="fansi"><code><span><span class="co">#&gt; # A tibble: 6 × 5</span></span>
<span><span class="co">#&gt;   email              github          hw1        hw2        hw3       </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;              &lt;chr&gt;           &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;     </span></span>
<span><span class="co">#&gt; 1 anya@school.edu    ghclass-anya    hw1-team01 hw2-team01 hw3-team01</span></span>
<span><span class="co">#&gt; 2 bruno@school.edu   ghclass-bruno   hw1-team02 hw2-team02 hw3-team02</span></span>
<span><span class="co">#&gt; 3 celine@school.edu  ghclass-celine  hw1-team03 hw2-team03 hw3-team03</span></span>
<span><span class="co">#&gt; 4 diego@school.edu   ghclass-diego   hw1-team01 hw2-team03 hw3-team02</span></span>
<span><span class="co">#&gt; 5 elijah@school.edu  ghclass-elijah  hw1-team02 hw2-team01 hw3-team03</span></span>
<span><span class="co">#&gt; 6 francis@school.edu ghclass-francis hw1-team03 hw2-team02 hw3-team01</span></span></code></pre>
<p>Here we are using the student’s school email address as a unique
identifier, we also have their GitHub username and we have also assigned
them to different teams for our three homework assignments.</p>
<p>Using the <code>roster</code> data frame, we can then invite the
students to the class’ organization. Each of these students will be
notified via email from GitHub asking them to join the
<code>ghclass-vignette</code> organization.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/org_members.html">org_invite</a></span><span class="op">(</span>org <span class="op">=</span> <span class="st">"ghclass-vignette"</span>, user <span class="op">=</span> <span class="va">roster</span><span class="op">$</span><span class="va">github</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi"><code><span><span class="co">#&gt; ✓ Invited user "ghclass-anya" to org "ghclass-vignette".</span></span>
<span><span class="co">#&gt; ✓ Invited user "ghclass-bruno" to org "ghclass-vignette".</span></span>
<span><span class="co">#&gt; ✓ Invited user "ghclass-celine" to org "ghclass-vignette".</span></span>
<span><span class="co">#&gt; ✓ Invited user "ghclass-diego" to org "ghclass-vignette".</span></span>
<span><span class="co">#&gt; ✓ Invited user "ghclass-elijah" to org "ghclass-vignette".</span></span>
<span><span class="co">#&gt; ✓ Invited user "ghclass-francis" to org "ghclass-vignette".</span></span></code></pre>
<p>We now need to wait for the students to accept these invitations
before they will have access to the organization. We can check the
status of these acceptances using the <code><a href="../reference/org_members.html">org_members()</a></code> and
<code><a href="../reference/org_members.html">org_pending()</a></code> functions to see which students have accepted
or not accepted the invitation.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/org_members.html">org_members</a></span><span class="op">(</span><span class="st">"ghclass-vignette"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] "mine-cetinkaya-rundel" "rundel"                "thereseanders"</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/org_members.html">org_members</a></span><span class="op">(</span><span class="st">"ghclass-vignette"</span>, include_admins <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; character(0)</span></span></code></pre>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/org_members.html">org_pending</a></span><span class="op">(</span><span class="st">"ghclass-vignette"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] "ghclass-anya"    "ghclass-bruno"   "ghclass-diego"   "ghclass-elijah" </span></span>
<span><span class="co">#&gt; [5] "ghclass-francis" "ghclass-celine"</span></span></code></pre>
<p>After some time, some of the students will have accepted the
invitation.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/org_members.html">org_members</a></span><span class="op">(</span><span class="st">"ghclass-vignette"</span>, include_admins <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] "ghclass-anya"    "ghclass-celine"  "ghclass-francis"</span></span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/org_members.html">org_pending</a></span><span class="op">(</span><span class="st">"ghclass-vignette"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] "ghclass-bruno"  "ghclass-diego"  "ghclass-elijah"</span></span></code></pre>
<p>We can now see that Anya, Celine, and Francis have accepted the
invite and we are still waiting on Bruno, Diego, and Elijah. Gentle
prodding and reminder emails are often necessary to get all of the
students into the organization.</p>
</div>
<div class="section level3">
<h3 id="preparing-an-assignment">Preparing an assignment<a class="anchor" aria-label="anchor" href="#preparing-an-assignment"></a>
</h3>
<p>As described above, ghclass uses a workflow where each team or
individual is given access to a single repo for each assignment. To
create these repositories we use a single template repository which
contains all of the files necessary for the assignment. Generally, this
will consist of things like a <code>README.md</code> with instructions,
a scaffolded <code>Rmd</code> or <code>R</code> file where the students
will enter their answers, and any other necessary support files
(e.g. data, images, support scripts, etc.). For an example of such a
repository you can take a look at <a href="https://github.com/sta323-sp19/hw1" class="external-link">hw1</a> from a Statistical
Computing course offered at Duke in the Spring of 2019. Note that this
repository is public and viewable by anyone, but this is not necessary
for your template repository.</p>
<p>Once you have created the repository and are ready to distribute it
to students there is one more suggest step - setting the repo’s template
status to <code>TRUE</code>. This is a GitHub specific detail, but doing
so makes it much more efficient to create copies of the repo for your
students. We can set this option under the repo’s Settings on GitHub,
just check the box labelled “Template Repository” on the main settings
page, or use the <code>repo_set_template</code> function. This status
can also be checked with ghclass using
<code>repo_is_template</code>.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/repo_core.html">repo_is_template</a></span><span class="op">(</span><span class="st">"Sta323-Sp19/hw1"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] FALSE</span></span></code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/repo_core.html">repo_set_template</a></span><span class="op">(</span><span class="st">"Sta323-Sp19/hw1"</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi"><code><span><span class="co">#&gt; ✓ Changed the template status of repo "Sta323-Sp19/hw1" to TRUE.</span></span></code></pre>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/repo_core.html">repo_is_template</a></span><span class="op">(</span><span class="st">"Sta323-Sp19/hw1"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] TRUE</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="distributing-a-team-assignment">Distributing a team assignment<a class="anchor" aria-label="anchor" href="#distributing-a-team-assignment"></a>
</h3>
<p>Once you have created your template repository, it is then straight
forward process to create the team or individual repositories for your
students. The recommended process is to use the
<code>org_create_assignment</code> function, which is a high level
function that takes care of each of the underlying steps for you. To
start we will create the hw1 team-based assignment given the teams in
<code>roster</code>.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/org_create_assignment.html">org_create_assignment</a></span><span class="op">(</span></span>
<span>  org <span class="op">=</span> <span class="st">"ghclass-vignette"</span>,</span>
<span>  user <span class="op">=</span> <span class="va">roster</span><span class="op">$</span><span class="va">github</span>,</span>
<span>  repo <span class="op">=</span> <span class="va">roster</span><span class="op">$</span><span class="va">hw1</span>,</span>
<span>  team <span class="op">=</span> <span class="va">roster</span><span class="op">$</span><span class="va">hw1</span>,</span>
<span>  source_repo <span class="op">=</span> <span class="st">"Sta323-Sp19/hw1"</span>,</span>
<span>  private <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi"><code><span><span class="co">#&gt; ✓ Mirrored repo "Sta323-Sp19/hw1" to repo "ghclass-vignette/hw1-team01".</span></span>
<span><span class="co">#&gt; ✓ Mirrored repo "Sta323-Sp19/hw1" to repo "ghclass-vignette/hw1-team02".</span></span>
<span><span class="co">#&gt; ✓ Mirrored repo "Sta323-Sp19/hw1" to repo "ghclass-vignette/hw1-team03".</span></span>
<span><span class="co">#&gt; ✓ Created team "hw1-team01" in org "ghclass-vignette".</span></span>
<span><span class="co">#&gt; ✓ Created team "hw1-team02" in org "ghclass-vignette".</span></span>
<span><span class="co">#&gt; ✓ Created team "hw1-team03" in org "ghclass-vignette".</span></span>
<span><span class="co">#&gt; ✓ Added user "ghclass-anya" to team "hw1-team01".</span></span>
<span><span class="co">#&gt; ✓ Added user "ghclass-bruno" to team "hw1-team02".</span></span>
<span><span class="co">#&gt; ✓ Added user "ghclass-celine" to team "hw1-team03".</span></span>
<span><span class="co">#&gt; ✓ Added user "ghclass-diego" to team "hw1-team01".</span></span>
<span><span class="co">#&gt; ✓ Added user "ghclass-elijah" to team "hw1-team02".</span></span>
<span><span class="co">#&gt; ✓ Added user "ghclass-francis" to team "hw1-team03".</span></span>
<span><span class="co">#&gt; ✓ Team "hw1-team01-1" given "push" access to repo "ghclass-vignette/hw1-team01"</span></span>
<span><span class="co">#&gt; ✓ Team "hw1-team02" given "push" access to repo "ghclass-vignette/hw1-team02"</span></span>
<span><span class="co">#&gt; ✓ Team "hw1-team03" given "push" access to repo "ghclass-vignette/hw1-team03"</span></span></code></pre>
<p>Based on the output we can see that multiple steps are involved in
this process:</p>
<ol style="list-style-type: decimal">
<li><p>The repositories are created by mirroring the contents of
“Sta323-Sp19/hw1” into the new repositories. The names of these
repositories are given by the <code>repo</code> argument, and in this
case match the team names.</p></li>
<li><p>Each of the teams is created within the organization.</p></li>
<li><p>The students are added to their assignment teams.</p></li>
<li><p>Teams are added to the repositories with “push” permission,
allowing them to write and make changes to the repo.</p></li>
</ol>
</div>
<div class="section level3">
<h3 id="distributing-an-individual-assignment">Distributing an individual assignment<a class="anchor" aria-label="anchor" href="#distributing-an-individual-assignment"></a>
</h3>
<p>If instead of hw1 being a team assignment, we wanted to distribute it
as an individual assignment, we can also achieve this using the
<code>org_create_assignment</code> function by simply excluding the
<code>team</code> argument (and providing appropriate repo names).</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/org_create_assignment.html">org_create_assignment</a></span><span class="op">(</span></span>
<span>  org <span class="op">=</span> <span class="st">"ghclass-vignette"</span>,</span>
<span>  user <span class="op">=</span> <span class="va">roster</span><span class="op">$</span><span class="va">github</span>,</span>
<span>  repo <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"hw1-ind-"</span>, <span class="va">roster</span><span class="op">$</span><span class="va">github</span><span class="op">)</span>,</span>
<span>  source_repo <span class="op">=</span> <span class="st">"Sta323-Sp19/hw1"</span>,</span>
<span>  private <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi"><code><span><span class="co">#&gt; ✓ Mirrored repo "Sta323-Sp19/hw1" to repo "ghclass-vignette/hw1-ind-ghclass-anya".</span></span>
<span><span class="co">#&gt; ✓ Mirrored repo "Sta323-Sp19/hw1" to repo "ghclass-vignette/hw1-ind-ghclass-bruno".</span></span>
<span><span class="co">#&gt; ✓ Mirrored repo "Sta323-Sp19/hw1" to repo "ghclass-vignette/hw1-ind-ghclass-celine".</span></span>
<span><span class="co">#&gt; ✓ Mirrored repo "Sta323-Sp19/hw1" to repo "ghclass-vignette/hw1-ind-ghclass-diego".</span></span>
<span><span class="co">#&gt; ✓ Mirrored repo "Sta323-Sp19/hw1" to repo "ghclass-vignette/hw1-ind-ghclass-elijah".</span></span>
<span><span class="co">#&gt; ✓ Mirrored repo "Sta323-Sp19/hw1" to repo "ghclass-vignette/hw1-ind-ghclass-francis".</span></span>
<span><span class="co">#&gt; ✓ User "ghclass-anya" given "push" access to repo "ghclass-vignette/hw1-ind-ghclass-anya"</span></span>
<span><span class="co">#&gt; ✓ User "ghclass-bruno" given "push" access to repo "ghclass-vignette/hw1-ind-ghclass-bruno"</span></span>
<span><span class="co">#&gt; ✓ User "ghclass-celine" given "push" access to repo "ghclass-vignette/hw1-ind-ghclass-celine"</span></span>
<span><span class="co">#&gt; ✓ User "ghclass-diego" given "push" access to repo "ghclass-vignette/hw1-ind-ghclass-diego"</span></span>
<span><span class="co">#&gt; ✓ User "ghclass-elijah" given "push" access to repo "ghclass-vignette/hw1-ind-ghclass-elijah"</span></span>
<span><span class="co">#&gt; ✓ User "ghclass-francis" given "push" access to repo "ghclass-vignette/hw1-ind-ghclass-francis"</span></span></code></pre>
<p>The underlying process here is very similar with the only difference
being that we no longer need to create teams and instead add the users
directly to the repositories.</p>
</div>
<div class="section level3">
<h3 id="listing-repos">Listing Repos<a class="anchor" aria-label="anchor" href="#listing-repos"></a>
</h3>
<p>Once the repos are created we can interact with them with ghclass,
one of the most common needs is simply to list which repos exist within
our organization and or selecting some subset of them.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/org_details.html">org_repos</a></span><span class="op">(</span><span class="st">"ghclass-vignette"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] "ghclass-vignette/hw1-team01"              "ghclass-vignette/hw1-team02"             </span></span>
<span><span class="co">#&gt; [3] "ghclass-vignette/hw1-team03"              "ghclass-vignette/hw1-ind-ghclass-anya"   </span></span>
<span><span class="co">#&gt; [5] "ghclass-vignette/hw1-ind-ghclass-bruno"   "ghclass-vignette/hw1-ind-ghclass-celine" </span></span>
<span><span class="co">#&gt; [7] "ghclass-vignette/hw1-ind-ghclass-diego"   "ghclass-vignette/hw1-ind-ghclass-elijah" </span></span>
<span><span class="co">#&gt; [9] "ghclass-vignette/hw1-ind-ghclass-francis"</span></span></code></pre>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/org_details.html">org_repos</a></span><span class="op">(</span><span class="st">"ghclass-vignette"</span>, filter<span class="op">=</span><span class="st">"hw1-team"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] "ghclass-vignette/hw1-team01" "ghclass-vignette/hw1-team02"</span></span>
<span><span class="co">#&gt; [3] "ghclass-vignette/hw1-team03"</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="modifying-repos">Modifying Repos<a class="anchor" aria-label="anchor" href="#modifying-repos"></a>
</h3>
<p>Mirroring repos is somewhat heavy handed, since it forces the target
repo to be identical to the source repo. In some cases we only want to
add or modify a single file in the repository. Most often this occurs
after distributing an assignment and discovering that there is an issue
with the instructions, the data, etc.</p>
<p>ghclass allows you to automate the process of adding, modifying, or
replacing files across repos after they have been created. While this
process does overwrite existing files in the repo everything is being
done within the context of git and changes can be rolled back or merged
if they conflict.</p>
<p>Lets assume that we distributed hw1 with the wrong version of the
<code>README.md</code> included, if we want to replace this with the
correct version across all of the hw1 repositories then we could do the
following,</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"README.md"</span>, package <span class="op">=</span> <span class="st">"ghclass"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/repo_file.html">repo_add_file</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/org_details.html">org_repos</a></span><span class="op">(</span><span class="st">"ghclass-vignette"</span>,<span class="st">"hw1-team"</span><span class="op">)</span>,</span>
<span>  message <span class="op">=</span> <span class="st">"Replace README.md with the correct version"</span>,</span>
<span>  file <span class="op">=</span> <span class="va">file</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi"><code><span><span class="co">#&gt; ✓ Added file "README.md" to repo "ghclass-vignette/hw1-team01".</span></span>
<span><span class="co">#&gt; ✓ Added file "README.md" to repo "ghclass-vignette/hw1-team02".</span></span>
<span><span class="co">#&gt; ✓ Added file "README.md" to repo "ghclass-vignette/hw1-team03".</span></span></code></pre>
<p>The updated version looks like the following,</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/repo_file.html">repo_get_readme</a></span><span class="op">(</span><span class="st">"ghclass-vignette/hw1-team01"</span>, include_details <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] "## Homework 01\n\nThis is the corrected version of the HW01 Readme\n"</span></span></code></pre>
<p>We can also use the function <code>repo_modify_file</code> to make
changes to existing files,</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/repo_file.html">repo_modify_file</a></span><span class="op">(</span></span>
<span>  repo <span class="op">=</span> <span class="fu"><a href="../reference/org_details.html">org_repos</a></span><span class="op">(</span><span class="st">"ghclass-vignette"</span>,<span class="st">"hw1-team"</span><span class="op">)</span>,</span>
<span>  path <span class="op">=</span> <span class="st">"README.md"</span>,</span>
<span>  pattern <span class="op">=</span> <span class="st">"## Homework 01\n\n"</span>,</span>
<span>  content <span class="op">=</span> <span class="st">"Due: Tomorrow\n"</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"after"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi"><code><span><span class="co">#&gt; ✓ Modified file "ghclass-vignette/hw1-team01/README.md".</span></span>
<span><span class="co">#&gt; ✓ Modified file "ghclass-vignette/hw1-team02/README.md".</span></span>
<span><span class="co">#&gt; ✓ Modified file "ghclass-vignette/hw1-team03/README.md".</span></span></code></pre>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/repo_file.html">repo_get_readme</a></span><span class="op">(</span><span class="st">"ghclass-vignette/hw1-team01"</span>, include_details <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] "## Homework 01\n\nDue: Tomorrow\nThis is the corrected version of the HW01 Readme\n"</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="collecting-student-work">Collecting Student Work<a class="anchor" aria-label="anchor" href="#collecting-student-work"></a>
</h3>
<p>Eventually the students will be finished with the work and or the
assignment deadline will have passed. ghclass makes it easy to collect
all of the student work off of GitHub and make it accessible on your
local computer for grading. We make use of the <a href="https://github.com/r-lib/gert" class="external-link">gert</a> package to provide basic
git functionality within ghclass.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">repo_dir</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"hw1"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/local_repo.html">local_repo_clone</a></span><span class="op">(</span></span>
<span>  repo <span class="op">=</span> <span class="fu"><a href="../reference/org_details.html">org_repos</a></span><span class="op">(</span><span class="st">"ghclass-vignette"</span>, <span class="st">"hw1-team"</span><span class="op">)</span>,</span>
<span>  local_path <span class="op">=</span> <span class="va">repo_dir</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; ✔ Cloned "ghclass-vignette/hw1-team01".</span></span>
<span><span class="co">#&gt; ✔ Cloned "ghclass-vignette/hw1-team02".</span></span>
<span><span class="co">#&gt; ✔ Cloned "ghclass-vignette/hw1-team03".</span></span></code></pre></div>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/dir_tree.html" class="external-link">dir_tree</a></span><span class="op">(</span><span class="va">repo_dir</span><span class="op">)</span></span>
<span><span class="co">#&gt; /var/folders/v7/wrxd7cdj6l5gzr0191__m9lr0000gn/T//RtmpEkGyKu/hw1</span></span>
<span><span class="co">#&gt; ├── hw1-team01</span></span>
<span><span class="co">#&gt; │   ├── README.md</span></span>
<span><span class="co">#&gt; │   ├── fizzbuzz.png</span></span>
<span><span class="co">#&gt; │   ├── hw1.Rmd</span></span>
<span><span class="co">#&gt; │   ├── hw1.Rproj</span></span>
<span><span class="co">#&gt; │   ├── hw1_whitelist.R</span></span>
<span><span class="co">#&gt; │   └── wercker.yml</span></span>
<span><span class="co">#&gt; ├── hw1-team02</span></span>
<span><span class="co">#&gt; │   ├── README.md</span></span>
<span><span class="co">#&gt; │   ├── fizzbuzz.png</span></span>
<span><span class="co">#&gt; │   ├── hw1.Rmd</span></span>
<span><span class="co">#&gt; │   ├── hw1.Rproj</span></span>
<span><span class="co">#&gt; │   ├── hw1_whitelist.R</span></span>
<span><span class="co">#&gt; │   └── wercker.yml</span></span>
<span><span class="co">#&gt; └── hw1-team03</span></span>
<span><span class="co">#&gt;     ├── README.md</span></span>
<span><span class="co">#&gt;     ├── fizzbuzz.png</span></span>
<span><span class="co">#&gt;     ├── hw1.Rmd</span></span>
<span><span class="co">#&gt;     ├── hw1.Rproj</span></span>
<span><span class="co">#&gt;     ├── hw1_whitelist.R</span></span>
<span><span class="co">#&gt;     └── wercker.yml</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="faq">FAQ<a class="anchor" aria-label="anchor" href="#faq"></a>
</h2>
<ol style="list-style-type: decimal">
<li><p>Do I really need private repositories for my students’
assignments?<br><br>
You might not care, but the law might. For example, in the United
States, FERPA regulations stipulate that student information should be
kept private. If you use public repositories, anyone can find out who is
enrolled in your course. Additionally, you will likely be using GitHub
issues for providing feedback on the students’ work, and potentially
even mention their grade in a given assignment. This information should
not be publicly available to anyone.<br><br>
Also, your students may not want their coursework to be publicly
available. They are bound to make mistakes as they learn and it should
be up to them whether they want those to be a piece of their public
profile on GitHub.</p></li>
<li>
<p>Why not use <a href="https://classroom.github.com/" class="external-link">GitHub
Classroom</a>?<br><br>
Actually you don’t have to choose between ghclass and GitHub Classroom,
your workflow can use either or both - they are just different
interfaces to the same underlying API. Generally, it is mostly a matter
of preference, but there are a couple of features in ghclass that are
not present in GitHub Classroom:</p>
<ul>
<li>Instructor defined teams – GitHub Classroom asks students to choose
their teammates when creating their repository.</li>
<li>Editing existing repositories – being able to push changes to
student repositories after an assignment is released can be quite
valuable.</li>
<li>Command-line interface – if you like writing R code to solve your
problems this may be a better fit for you as it provides a greater level
of control and more flexibility.</li>
</ul>
</li>
<li>
<p>Does the default branch of my repository matter
(<code>master</code> vs <code>main</code>)?<br><br>
Yes and no - recently, GitHub has announced that they will be changing
the default branch for all new repositories on their platform to
<code>main</code> from <code>master</code>. Details on this change and
the timeline for implementation are available <a href="https://github.com/github/renaming" class="external-link">here</a>. In anticipation of
these changes we have updated <code>ghclass</code> to support
alternative default branch names across the entire package. For the vast
majority of use cases you will not see any differences as the GitHub API
and/or Git will already use the default branch without any additional
specification. In a small number of cases a branch name is required, in
which case the package no longer provides a default value and you will
be prompted to specify that argument. Hopefully these changes will have
a minimal impact on our users in terms of both backwards and forwards
compatibility.<br><br>
A couple other quick points about this change:</p>
<ul>
<li>The default GitHub behavior is expected to change in mid-October
2020, existing repositories and organizations will not be affected.</li>
<li>Currently, our recommendation is if your classroom org is already
using <code>master</code> to leave it as is, particularly for repos
already distributed to students. GitHub will be providing migration
tools later in the year which hopefully will be useful for migrating
your entire organization.</li>
<li>For new classroom orgs, before the GitHub wide change, you can
choose a new default branch name organization wide under
<code>Org &gt; Settings &gt; Repository Defaults &gt; Repository default branch</code>.
Note that this will only affect newly created repositories, not existing
repositories.</li>
</ul>
</li>
</ol>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://rundel.github.io" class="external-link">Colin Rundel</a>, Mine Cetinkaya-Rundel.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
